/**
 * @file theme rules
 */

@import "vars";
@import "mixins";

/**
 * Icon fonts as fields
 */
.field-type-fonticon-field {
  background-color: $white;
  font-size: 2.6em;
  height: 1.8em;
  line-height: 1.8em;
  margin: auto;
  text-align: center;
  width: 1.8em;
  @include rounded-all(2.6em);
}
.field-name-field-header-icon {
  @include absolute-center(1.8em);
  top: -0.9em;
}
.header-with-icon {
  margin-top: 36px;
  position: relative;
  .field-name-field-dek {
    margin-top: 1.8em;
  }
}

/* Jump page context */
.field-name-field-section-list-icon {
  margin-bottom: -0.9em;
  .field-item {
    background-color: $white;
    position: relative;
    @include rounded-all(2.6em);
  }
}

/**
 * Top Links
 */
ul.menu.sf-menu-top-links {
  li {
    padding: 0 8px;
    a {
      &.active {
        color: $gray-light;
      }
    }
    &.menuparent {
      cursor: pointer;
    }
  }
  ul {
    padding: 0 0 8px;
    background-color: $black-22;
    li {
      margin: 4px 0;
    }
  }
}

/**
 * Navigation Main
 */
#logo-container {
  display: block;
  float: left;
  font-size: 0;
  height: 100%;
  padding: 10px 0;
  width: 25%;
  img#logo {
    width: 100%;
  }
}

/**
 * Primary Links
 */
/* Desktop Menu */
.region-navigation-primary {
  float: left;
  padding-left: 3%;
  width: 75%;
  ul.sf-menu > li {
    //margin-top: 18px;
    > a {
      line-height: 13px;
      margin: 28px 0;
      padding: 10px 20px;
      @include rounded-all();
    }
    &.active-trail {
      > a {
        background-color: $blue1;
      }
    }
    &.sfHover > ul {
      // Dropdowns
      background-color: $white;
      margin: 57px 0 0 10px;
      width: auto;
      @include box-shadow(0px, 1px, 10px, #333);
      li {
        a {
          color: $black-30;
          display: block;
          font-weight: 600;
          padding: 20px 40px;
          white-space: nowrap;
          &:hover {
            background-color: $tan-light;
            color: $blue1;
          }
          span {
            display: block;
            float: left;
            font-size: 30px;
            line-height: 13px;
            margin: 0 5px 0 -30px;
            position: relative;
            text-align: center;
            width: 36px;
          }
        }
      }
    }
    &.sf-item-4 > ul {
      left: -40%;
      //width: 240px;
    }
  }
}
body.i18n-es ul.sf-menu > li.sf-item-4 > ul {
  left: -93px;
}

/* Mobile slide in */
.main-drop-down {
  background-color: $black-30;
  height: 100%;
  padding-top: 45px;
  position: fixed;
  right: -240px;
  top: 0px;
  width: 240px;
  z-index: 499; // SF Module (annoyingly) uses 498 for z-index
  @include transition-all(0.3);
  ul {
    ul {
      display: none;
    }
    li {
      display: block;
      &.active-trail {
        a {
          background-color: $blue1;
        }
      }
      a {
        clear: both;
        display: block;
        float: none;
        font-weight: 600;
        letter-spacing: 1px;
        margin: 4px 10px;
        padding: 10px 20px;;
      }
    }
  }
}
#main-drop-down-toggle {
  background-color: $black-22;
  display: none;
  font-size: 40px;
  height: 100%;
  padding: 30px;
  position: absolute;
  right: 0px;
  top: 0px;
  z-index: 1;
  @include transition-all(0.3);
}
#page {
  &.with-mobile-menu {
    @include transition-all(0.3);
    &.mobile-menu-open {
      position: relative;
      .main-drop-down {
        right: 0px;
      }
      #main-drop-down-toggle {
        right: 240px;
      }
    }
  }
}

/**
 * Secondary Links
 */
#navigation-secondary {
  .secondary-links {
    min-height: 25px;
    margin: -6px 0 0;
    ul.main-menu {
      display: block;
      li {
        padding: 0 1.7em;
        a {
          color: $black-22;
          &.active,
          &:hover {
            color: $blue;
          }
          span {
            display: none;
          }
        }
        &.active-trail {
          a {
            color: $blue;
          }
        }
      }
    }
  }
}

/**
 * Bottom Links
 */
#block-menu-menu-bottom-links {
  padding: 20px 40px 40px 40px;
  ul {
    margin: 0;
    li {
      display: block;
      float: left;
      margin: 0;
      padding: 0 0.5em;
      width: 25%;
      > ul {
        margin: 14px 0 0;
        padding: 0;
        li {
          display: block;
          float: none;
          list-style-type: none;
          list-style-image: none;
          margin: 0;
          padding: 0;
          width: 100%;
          a {
            color: $gray;
            display: block;
            &:hover {
              color: $white;
            }
          }
        }
      }
    }
  }
}

/**
 * Generic Menus (inline ULs)
 */
.footer-bottom-inner ul.menu {
  margin: 0;
  li {
    float: left;
    list-style: none;
    margin: 0 1em;
    a {
      display: inline-block;
      margin: 0;
    }
  }
}

/** aligned captions **/
div.caption-left {
  float: left;
  margin: 10px 20px 10px 0;
}

div.caption-right {
  float: right;
  margin: 10px 0 10px 20px;
}

div.caption-center {
  display: block;
  text-align: center;
}

div.caption-center .caption-inner {
  display: inline-block;
}

/**
 * Features
 */
.bean-feature {
  height: 625px;
  position: relative;
  .group-slide-tab {
    cursor: pointer;
    left: 0px;
    height: 125px;
    overflow: hidden;
    position: absolute;
    text-align: center;
    top: 0px;
    .field-type-fonticon-field {
      background-color: transparent;
    }
  }
  .slide-1 {
    .field-name-field-slide-icon {color: $blue1;}
  }
  .slide-2 {
    .field-name-field-slide-icon {color: $orange;}
  }
  .slide-3 {
    .field-name-field-slide-icon {color: $green;}
  }
  .slide-4 {
    .field-name-field-slide-icon {color: $blue2;}
  }
  .active-slide {
    .group-slide-tab {
      background-color: $gray;
      color: $white;
      .field-name-field-slide-icon {
        color: $white;
      }
    }
    &.slide-1 {
      .group-slide-tab {
        background-color: $blue1;
      }
      .group-slide-cta {
        background-color: $blue1-alpha-8;
      }
    }
    &.slide-2 {
      .group-slide-tab {
        background-color: $orange;
      }
      .group-slide-cta {
        background-color: $orange-alpha-8;
      }
    }
    &.slide-3 {
      .group-slide-tab {
        background-color: $green;
      }
      .group-slide-cta {
        background-color: $green-alpha-8;
      }
    }
    &.slide-4 {
      .group-slide-tab {
        background-color: $blue2;
      }
      .group-slide-cta {
        background-color: $blue2-alpha-8;
      }
    }
  }
  .group-slide-slide {
    display: none;
    left: 0px;
    position: absolute;
    top: 125px;
    .group-slide-cta {
      background-color: rgba(100, 100, 100, 0.7);
      padding: 20px;
      .field-name-field-slide-cta-title {
        font-size: $large-27;
        line-height: $base;
      }
      .field-name-field-slide-cta-copy {
        font-family: 'EB Garamond', serif;
        margin-bottom: 0.6em;
      }
    }
  }
}

/**
 * Jump pages
 */
/* First Section */
.node-jump-page .content  .field-item-first .field-name-field-section-heading {
  margin-top: 1.8em;
}

/**
 * Messages
 */
div.messages {
  background-color: #4ea5cd;
  background-image: none;
  border: none;
  color: #fff;
  margin: 0;
  display: none;
  padding: 1em;
  width: 100%;
  @include text-shadow();
  &.success {background-color: #61b832;}
  &.info {background-color: #4ea5cd;}
  &.warning {background-color: #eaaf51;}
  &.error {background-color: #de4343;}
  .hide-message {
    background-color: rgba(100, 100, 100, 0.5);
    cursor: pointer;
    display: block;
    float: right;
    padding: 0 4px;
    text-align: center;
    text-shadow: none;
    @include solid-border(1px, rgba(100, 100, 100, 0.2));
    @include rounded-all(4px);
    &:hover {
      background-color: rgba(100, 100, 100, 0.6);
    }
  }
  a {
    color: #fff;
    text-decoration: underline;
    &:hover {
      color: $gray-light;
    }
  }
  .krumo-root {
    color: $black-22;
    @include text-shadow(0px, 0px, 0px, #000);
    a {
      color: #000;
    }
  }
}

/**
 * Testimonials
 */
.bean-testimonial {
  text-align: center;
  img {
    margin: auto;
  }
}

/**
 * overrides
 */
.front h1,
.front #navigation-secondary .secondary-links {display: none;}

.node-unpublished:before {
  content: 'UNPUBLISHED';
}

/**
 * Views grouping limit + Views responsive grid overrides
 */
.views-grouping-limit-responsive {
  &:first-child {
    h2 {
      margin-top: 0;
    }
  }
  h2 {
    padding-top: 0.3em;
  }
}

/**
 * Artucle full overrides
 */
.node-in-the-news-item.node-full {
  .field-name-field-show-published-date {
    text-align: center;
    margin-bottom: -1.8em;
    margin-top: 2em;
  }
}








